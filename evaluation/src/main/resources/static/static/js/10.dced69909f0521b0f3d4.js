webpackJsonp([10],{"+Ng6":function(e,t){},h0S9:function(e,t,i){"use strict";t.c=function(e){return Object(s.a)({url:"/course/quire/list",method:"get",params:e})},t.e=function(e){return Object(s.a)({url:"/course/update",method:"put",params:e})},t.b=function(e){var t=e[0];return Object(s.a)({url:"/course/add",method:"post",params:{coding:t.coding,name:t.name,description:t.description}})},t.a=function(e){console.log("删除获取到的参数为==========",e);var t="";e&&e.forEach(function(e){console.log("444444",e),t+=e+","});return console.log("删除获取到的参数为",t),Object(s.a)({url:"/course/ids",method:"delete",params:{ids:t}})},t.d=function(e){return Object(s.a)({url:"/studentCourse/findTeacher",method:"get",params:{courseId:e}})};var s=i("vLgD")},ubV4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("woOf"),l=i.n(s),o=i("Ozlq"),n=i("h0S9"),a={query:null,word:null,blurry:!1,page:1,limit:5},r={name:"studentList",data:function(){return{editSkuInfo:{dialogVisible:!1,keyword:null},operateType:null,listQuery:l()({},a),list:null,total:null,listLoading:!0,selectProductCateValue:null,multipleSelection:[],editDialog:!1,dialogTitle:"",publishInfo:{},formLabelWidth:"120px",publishQuestionVisible:!1,answerTime:"",courseIds:[],courseInfo:[],chooseQuestion:{},courseLoding:!1,publishDescription:"",blackNumber:0,submitPublishQuestionConfigQuery:{}}},created:function(){this.getList()},methods:{add:function(){console.log("进入点击"),this.$router.push({path:"/questionnaire/create"})},getList:function(){var e=this;this.listLoading=!0,this.listQuery.query="where 1 = 1",this.listQuery.keyword&&(this.listQuery.query+=" and (title like '%"+this.listQuery.keyword+"%' or description like '%"+this.listQuery.keyword+"%' or content like '%"+this.listQuery.keyword+"%')"),this.listQuery.questionName&&(this.listQuery.query+=" and title = '"+this.listQuery.questionName+"'"),Object(o.i)(this.listQuery).then(function(t){e.listLoading=!1,e.list=t.data.data,e.total=t.data.total,console.log("获取到的数据为：",t)})},handleSizeChange:function(e){this.listQuery.page=1,this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleSelectionChange:function(e){this.multipleSelection=e},handleResetSearch:function(){this.selectProductCateValue=[],this.listQuery=l()({},a)},viewQuestion:function(e){console.log("获取到的问卷id为："+e),this.$router.push({path:"/task/view",query:{evaluationId:e}})},publishQuestionConfig:function(e){this.publishQuestionVisible=!0,this.chooseQuestion=e,console.log("获取到选中的问卷信息",e)},submitPublishQuestionConfig:function(){if(console.log("获取到时间",this.answerTime),console.log("获取到课程",this.courseIds),console.log("获取到时间",this.answerTime[0],this.answerTime[1]),this.publishQuestionVisible=!1,this.courseIds||0!=this.courseIds.length){var e="";this.courseIds.forEach(function(t){e+=t+","}),this.submitPublishQuestionConfigQuery.courseIds=e,this.submitPublishQuestionConfigQuery.questionnaireId=this.chooseQuestion.id,this.submitPublishQuestionConfigQuery.description=this.publishDescription,this.submitPublishQuestionConfigQuery.startRespondTime=this.answerTime[0],this.submitPublishQuestionConfigQuery.endRespondTime=this.answerTime[1],this.submitPublishQuestionConfigQuery.blacks=this.blackNumber,Object(o.k)(this.submitPublishQuestionConfigQuery).then(function(e){console.log("返回结果为",e)})}else this.$message({message:"请选择课程",type:"warning"})},queryCourse:function(e){var t=this;console.log("获取的查询参数为",e),this.listQuery.keyword=e,this.listQuery.quire="and 1 = 1",this.listQuery.keyword&&(this.listQuery.quire+=" and (name like '%"+this.listQuery.keyword+"%' or coding like '%"+this.listQuery.keyword+"%' or description like '%"+this.listQuery.keyword+"%')"),this.listQuery.limit=15,this.courseInfo=[],this.courseLoding=!0,Object(n.c)(this.listQuery).then(function(e){console.log("获取到的返回结果",e),e.data.data&&e.data.data.forEach(function(e){t.courseInfo.push(e)}),t.courseLoding=!1})},handleBlackNumberChange:function(e){console.log("获取改变的数字",e)}}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container",staticStyle:{height:"500px","overflow-y":"scroll"}},[i("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[i("div",[i("i",{staticClass:"el-icon-search"}),e._v(" "),i("span",[e._v("筛选搜索")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.getList()}}},[e._v("查询结果")]),e._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(t){e.handleResetSearch()}}},[e._v("重置\n      ")])],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("el-form",{attrs:{inline:!0,model:e.listQuery,size:"small","label-width":"140px"}},[i("el-form-item",{attrs:{label:"输入搜索："}},[i("el-input",{staticStyle:{width:"203px"},attrs:{placeholder:"问卷标题/问卷内容"},model:{value:e.listQuery.keyword,callback:function(t){e.$set(e.listQuery,"keyword",t)},expression:"listQuery.keyword"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"问卷名称："}},[i("el-input",{staticStyle:{width:"203px"},attrs:{placeholder:"问卷名称"},model:{value:e.listQuery.questionName,callback:function(t){e.$set(e.listQuery,"questionName",t)},expression:"listQuery.questionName"}})],1)],1)],1)]),e._v(" "),i("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[i("i",{staticClass:"el-icon-tickets"}),e._v(" "),i("span",[e._v("问卷模板数据")]),e._v(" "),i("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:e.add}},[e._v("添加\n    ")])],1),e._v(" "),i("div",{staticClass:"table-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"题目",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.title))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"描述",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.description))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"作者",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.author.name))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"作者手机号码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.author.correspondence.phone))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"作者邮箱号码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.author.correspondence.email))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createTime))]}}])}),e._v(" "),i("el-table-column",{staticStyle:{width:"20%"},attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){e.viewQuestion(t.row.id)}}},[e._v("查看\n          ")])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"pagination-container"},[i("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":e.listQuery.limit,"page-sizes":[5,10,15],"current-page":e.listQuery.page,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}})],1),e._v(" "),i("el-dialog",{attrs:{title:"发布问卷配置",visible:e.publishQuestionVisible},on:{"update:visible":function(t){e.publishQuestionVisible=t}}},[i("el-form",{attrs:{model:e.publishInfo}},[i("el-form-item",{attrs:{label:"问卷名字","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.chooseQuestion.title,callback:function(t){e.$set(e.chooseQuestion,"title",t)},expression:"chooseQuestion.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选择课程","label-width":e.formLabelWidth}},[i("el-select",{attrs:{multiple:"",filterable:"","reserve-keyword":"",remote:"","default-first-option":"","remote-method":e.queryCourse,loading:e.courseLoding,placeholder:"请选择课程"},model:{value:e.courseIds,callback:function(t){e.courseIds=t},expression:"courseIds"}},e._l(e.courseInfo,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"选择时间","label-width":e.formLabelWidth}},[i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{"value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始答卷时间","end-placeholder":"结束答卷时间"},model:{value:e.answerTime,callback:function(t){e.answerTime=t},expression:"answerTime"}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:"为什么发布","label-width":e.formLabelWidth}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.publishDescription,callback:function(t){e.publishDescription=t},expression:"publishDescription"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"黑名单数量","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{min:0,max:5,label:"不计入统计分学生数量"},on:{change:e.handleBlackNumberChange},model:{value:e.blackNumber,callback:function(t){e.blackNumber=t},expression:"blackNumber"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.publishQuestionVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitPublishQuestionConfig}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(r,u,!1,function(e){i("+Ng6")},null,null);t.default=c.exports}});
//# sourceMappingURL=10.dced69909f0521b0f3d4.js.map