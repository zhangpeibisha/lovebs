webpackJsonp([17],{"4b3y":function(t,e,l){"use strict";e.c=function(t){return Object(i.a)({url:"/faculty/quire/list",method:"get",params:t})},e.b=function(t){return Object(i.a)({url:"/faculty/add",method:"post",params:t})},e.e=function(t){return Object(i.a)({url:"/faculty/update",method:"put",params:t})},e.d=function(t){return Object(i.a)({url:"/faculty/findById",method:"get",params:{id:t}})},e.a=function(t){console.log("获取到的参数为:",t);var e="";return t.forEach(function(t){return e+=t+","}),console.log("获取到str",e),Object(i.a)({url:"/faculty/deletes",method:"delete",params:{ids:e}})};var i=l("vLgD")},AFc8:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l("woOf"),a=l.n(i),n=l("4b3y"),o={key:null,word:null,blurry:!1,page:1,limit:5},s={data:function(){return{editSkuInfo:{dialogVisible:!1,keyword:null},operateType:null,listQuery:a()({},o),list:null,total:null,listLoading:!0,selectProductCateValue:null,multipleSelection:[],editDialog:!1,faculty:{coding:"",name:""},dialogTitle:""}},created:function(){this.getList()},watch:{},methods:{getList:function(){var t=this;this.listLoading=!0,this.listQuery.quire="and 1 = 1",this.listQuery.keyword&&(this.listQuery.quire+=" and (coding like '%"+this.listQuery.keyword+"%' or name like '%"+this.listQuery.keyword+"%')"),Object(n.c)(this.listQuery).then(function(e){t.listLoading=!1,t.list=e.data.data,t.total=e.data.total})},handleSizeChange:function(t){this.listQuery.page=1,this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},handleSelectionChange:function(t){this.multipleSelection=t},handleResetSearch:function(){this.selectProductCateValue=[],this.listQuery=a()({},o),this.getList()},handleDelete:function(t,e,l){var i=this;console.log("index=",t),console.log("row=",e),console.log("batch",l),this.$confirm("是否要进行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[];l||(t.push(e.id),console.log("获取的值为:",t)),i.multipleSelection.forEach(function(e){return t.push(e.id)}),console.log("选中的row",i.multipleSelection),Object(n.a)(t).then(function(t){console.log("删除返回结果",t),i.getList()})})},edit:function(){var t=this;this.faculty.id?Object(n.e)(this.faculty).then(function(e){console.log("编辑学院结果返回",e),t.editDialog=!1,t.getList()}):Object(n.b)(this.faculty).then(function(e){console.log("添加学院结果返回",e),t.editDialog=!1,t.getList()})}}},c={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app-container",staticStyle:{height:"500px","overflow-y":"scroll"}},[l("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[l("div",[l("i",{staticClass:"el-icon-search"}),t._v(" "),l("span",[t._v("筛选搜索")]),t._v(" "),l("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.getList()}}},[t._v("查询结果")]),t._v(" "),l("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(e){t.handleResetSearch()}}},[t._v("重置\n      ")])],1),t._v(" "),l("div",{staticStyle:{"margin-top":"15px"}},[l("el-form",{attrs:{inline:!0,model:t.listQuery,size:"small","label-width":"140px"}},[l("el-form-item",{attrs:{label:"输入搜索："}},[l("el-input",{staticStyle:{width:"203px"},attrs:{placeholder:"关键字"},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}})],1)],1)],1)]),t._v(" "),l("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[l("i",{staticClass:"el-icon-tickets"}),t._v(" "),l("span",[t._v("学院数据")]),t._v(" "),l("el-button",{staticClass:"btn-add",attrs:{type:"danger",size:"mini"},on:{click:function(e){t.handleDelete(0,0,!0)}}},[t._v("删除")]),t._v(" "),l("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:function(e){t.editDialog=!0,t.faculty={},t.dialogTitle="添加"}}},[t._v("添加\n    ")])],1),t._v(" "),l("div",{staticClass:"table-container"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"facultyTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:""},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.coding))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"学院名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini"},on:{click:function(l){t.faculty=e.row,t.editDialog=!0,t.faculty.type="see",t.dialogTitle="查看"}}},[t._v("查看\n          ")]),t._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(l){t.faculty=e.row,t.editDialog=!0,t.dialogTitle="编辑",t.faculty.type="edit"}}},[t._v("编辑\n          ")]),t._v(" "),l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){t.handleDelete(e.$index,e.row,!1)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),l("div",{staticClass:"pagination-container"},[l("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":t.listQuery.limit,"page-sizes":[5,10,15],"current-page":t.listQuery.page,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1),t._v(" "),l("el-dialog",{attrs:{title:t.dialogTitle,visible:t.editDialog,width:"30%"},on:{"update:visible":function(e){t.editDialog=e}}},[l("el-form",{attrs:{"label-width":"80px"}},[l("el-form-item",{attrs:{label:"编号"}},[l("el-input",{attrs:{disabled:"see"==t.faculty.type},model:{value:t.faculty.coding,callback:function(e){t.$set(t.faculty,"coding",e)},expression:"faculty.coding"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"学院名"}},[l("el-input",{attrs:{disabled:"see"==t.faculty.type},model:{value:t.faculty.name,callback:function(e){t.$set(t.faculty,"name",e)},expression:"faculty.name"}})],1)],1),t._v(" "),"see"!=t.faculty.type?l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.editDialog=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.edit()}}},[t._v("确 定")])],1):t._e()],1)],1)},staticRenderFns:[]},r=l("VU/8")(s,c,!1,null,null,null);e.default=r.exports}});
//# sourceMappingURL=17.ceee7fa878f3ca393574.js.map