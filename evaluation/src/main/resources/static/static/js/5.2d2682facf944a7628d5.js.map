{"version":3,"sources":["webpack:///src/views/question/card/Question1.vue","webpack:///./src/views/question/card/Question1.vue?9f2a","webpack:///./src/views/question/card/Question1.vue","webpack:///src/views/question/card/edit.vue","webpack:///./src/views/question/card/edit.vue?82d6","webpack:///./src/views/question/card/edit.vue"],"names":["Question1","props","question","type","Object","required","qIndex","Number","data","chooseId","methods","answer","e","console","log","this","$parent","questionnaireEnum","questionnaireType","questionId","id","title","suggest","target","value","radioChoose","checkboxChoose","items","filter","item","choose","forEach","length","substring","card_Question1","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_l","directives","name","rawName","expression","attrs","domProps","checked","Array","isArray","_i","on","change","$event","$$a","$$el","$$c","$$v","$$i","$set","concat","slice","_q","input","composing","_e","staticRenderFns","question_card_Question1","__webpack_require__","normalizeComponent","ssrContext","edit","window","sessionStorage","getItem","setItem","questions","showAlert","publish","showModal","routerCanDeactivate","expires","qnId","isLoading","answers","questionReplies","publishId","computed","saveData","status","studentId","publisId","then","result","_answer","q","map","push","transposition","arr","oldIndex","newIndex","splice","saveBtnHandler","getParams","$route","query","findEvaluationById","evaluationId","_this","code","content","author","findPublishQuestionById","_this2","questionnaireid","created","components","Question","Calendar","Alert","Modal","route","canDeactivate","card_edit","tag","track-by","class","disabled","click","edit_Component","edit_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5.2d2682facf944a7628d5.js","sourcesContent":["<template lang=\"html\">\n  <li>\n    <div class=\"content\">\n      <!-- 问题题目 -->\n      <p>{{ question.title }}</p>\n      <!-- 问题题目 end -->\n      <!-- 所有答案 -->\n      <ol v-if=\"question.questionnaireType !== 'text'\" class=\"answers\">\n        <!-- 答案 -->\n        <li\n          v-for=\"answer in question.items\"\n          class=\"answer\">\n          <!-- 选择框 -->\n          <input v-if=\"question.questionnaireType == 'checkbox'\"\n           class=\"select\" :type=\"question.questionnaireType\" :name=\"question.id\" :value=\"`${answer.id}`\" v-model=\"answer.choose\"\n           @change=\"checkboxChoose\"\n           >\n          <input v-if=\"question.questionnaireType == 'radio'\"\n           class=\"select\" :type=\"question.questionnaireType\" :name=\"question.id\" :value=\"`${answer.id}`\" v-model=\"chooseId\"\n           @change=\"radioChoose\">\n          <!-- 选项内容 -->\n          <div class=\"option\">\n            <div class=\"input-fix\">\n              <p>{{ answer.title }}</p>\n            </div>\n          </div>\n        </li>\n      </ol>\n      <!-- 所有答案 end -->\n      <div v-if=\"question.questionnaireType === 'text'\" class=\"option\">\n        <textarea class=\"textarea\" @change=\"answer($event)\"></textarea>\n      </div>\n    </div>\n    <div class=\"side\">\n      <div class=\"order\">Q{{ qIndex + 1 }}</div>\n    </div>\n  </li>\n</template>\n\n<script>\nexport default {\n  props: {\n    question: {\n      type: Object,\n      required: true\n    },\n    qIndex: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      chooseId: \"\"\n    };\n  },\n  methods: {\n    answer(e) {\n      console.log(\"eeee\", e);\n      console.log(\"this.question\", this.question);\n      this.$parent.answer({\n        questionnaireEnum: this.question.questionnaireType,\n        questionId: this.question.id,\n        title: this.question.title,\n        suggest: e.target.value\n      });\n    },\n    radioChoose() {\n      this.$parent.answer({\n        questionnaireEnum: this.question.questionnaireType,\n        questionId: this.question.id,\n        title: this.question.title,\n        chooseId: this.chooseId\n      });\n    },\n    checkboxChoose() {\n      let chooseId = \"\"\n      this.question.items.filter(item => item.choose).forEach(item => {\n        chooseId += (item.id + \",\");\n      });\n      this.$parent.answer({\n        questionnaireEnum: this.question.questionnaireType,\n        questionId: this.question.id,\n        title: this.question.title,\n        chooseId: chooseId.length > 0 ? chooseId.substring(0,chooseId.length - 1) : chooseId\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../css/base\";\n@import \"../css/helpers/mixins\";\n.question {\n  @include clearfix;\n  padding: 1rem;\n  border-radius: 0.4rem;\n  list-style: none;\n  .side {\n    float: left;\n    margin-left: -100%;\n    width: 3rem;\n    font-size: $font-size-default;\n    cursor: pointer;\n    line-height: 1.5;\n    text-align: center;\n    .order {\n      line-height: 2.4rem;\n    }\n    .opertions {\n      margin-top: 0.3rem;\n      list-style: none;\n      padding: 0;\n      visibility: hidden;\n      line-height: 2;\n      color: $gray;\n    }\n  }\n  .content {\n    float: left;\n    width: 100%;\n    padding-left: 4rem;\n    .textarea,\n    .input {\n      border: 1px solid transparent;\n      background-color: transparent;\n      margin: 0;\n      outline: none;\n    }\n    .title {\n      font-size: $font-size-default;\n      line-height: 1.5;\n      width: 100%;\n      max-width: 100%;\n      border-radius: 0.3rem;\n      line-height: 2.4rem;\n    }\n    .answers {\n      list-style: none;\n      padding: 0;\n      line-height: 2;\n      font-size: $font-size-sm;\n      color: $light-black;\n      margin-top: 0.4rem;\n      .answer {\n        display: flex;\n        align-items: flex-start;\n        margin-bottom: 0.4rem;\n        @include clearfix;\n        .select {\n          display: inline-block;\n          height: 2.4rem;\n          width: 2rem;\n          float: left;\n          position: relative;\n        }\n        .option {\n          font-size: $font-size-default;\n          float: left;\n          width: 100%;\n          margin-left: -2rem;\n          padding-left: 2rem;\n          @include clearfix;\n          .input-fix {\n            float: left;\n            width: 100%;\n            padding-right: 10rem;\n            display: flex;\n            .input {\n              line-height: 2.4rem;\n              border: 1px solid transparent;\n              background-color: transparent;\n              margin: 0;\n              outline: none;\n              min-width: 40%;\n              max-width: 40%;\n              padding: 0 0.2rem;\n              border-radius: 0.3rem;\n              color: #777;\n            }\n          }\n          .option-panel {\n            display: none;\n            float: left;\n            width: 10rem;\n            margin-left: -12rem;\n            font-size: $font-size-default;\n            .iconfont {\n              list-style: none;\n              float: left;\n              width: 2rem;\n              line-height: 2.4rem;\n              color: $blue;\n              padding: 0;\n              text-align: center;\n            }\n          }\n        }\n      }\n    }\n    .add-option {\n      margin-top: 1rem;\n      font-size: $font-size-default;\n      cursor: pointer;\n      color: $gray;\n      display: inline-block;\n      line-height: 2;\n      text-align: center;\n      border-radius: 0.4rem;\n      visibility: hidden;\n      .iconfont {\n        margin-right: 0.6rem;\n      }\n    }\n    .option {\n      .textarea {\n        width: 100%;\n        height: 10rem;\n        margin-top: 0.8rem;\n        border: 1px solid $light-black;\n      }\n      [for=\"isRequired\"] {\n        margin-top: 1rem;\n        display: block;\n        .required {\n          margin-right: 0.4rem;\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/question/card/Question1.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(_vm._s(_vm.question.title))]),_vm._v(\" \"),(_vm.question.questionnaireType !== 'text')?_c('ol',{staticClass:\"answers\"},_vm._l((_vm.question.items),function(answer){return _c('li',{staticClass:\"answer\"},[((_vm.question.questionnaireType)==='checkbox'&&(_vm.question.questionnaireType == 'checkbox'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(answer.choose),expression:\"answer.choose\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"checkbox\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":Array.isArray(answer.choose)?_vm._i(answer.choose,(\"\" + (answer.id)))>-1:(answer.choose)},on:{\"change\":[function($event){var $$a=answer.choose,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"\" + (answer.id),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(answer, \"choose\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(answer, \"choose\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(answer, \"choose\", $$c)}},_vm.checkboxChoose]}}):((_vm.question.questionnaireType)==='radio'&&(_vm.question.questionnaireType == 'checkbox'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(answer.choose),expression:\"answer.choose\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"radio\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":_vm._q(answer.choose,(\"\" + (answer.id)))},on:{\"change\":[function($event){_vm.$set(answer, \"choose\", (\"\" + (answer.id)))},_vm.checkboxChoose]}}):(_vm.question.questionnaireType == 'checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(answer.choose),expression:\"answer.choose\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":_vm.question.questionnaireType},domProps:{\"value\":(\"\" + (answer.id)),\"value\":(answer.choose)},on:{\"change\":_vm.checkboxChoose,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(answer, \"choose\", $event.target.value)}}}):_vm._e(),_vm._v(\" \"),((_vm.question.questionnaireType)==='checkbox'&&(_vm.question.questionnaireType == 'radio'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chooseId),expression:\"chooseId\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"checkbox\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":Array.isArray(_vm.chooseId)?_vm._i(_vm.chooseId,(\"\" + (answer.id)))>-1:(_vm.chooseId)},on:{\"change\":[function($event){var $$a=_vm.chooseId,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"\" + (answer.id),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.chooseId=$$a.concat([$$v]))}else{$$i>-1&&(_vm.chooseId=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.chooseId=$$c}},_vm.radioChoose]}}):((_vm.question.questionnaireType)==='radio'&&(_vm.question.questionnaireType == 'radio'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chooseId),expression:\"chooseId\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"radio\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":_vm._q(_vm.chooseId,(\"\" + (answer.id)))},on:{\"change\":[function($event){_vm.chooseId=\"\" + (answer.id)},_vm.radioChoose]}}):(_vm.question.questionnaireType == 'radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chooseId),expression:\"chooseId\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":_vm.question.questionnaireType},domProps:{\"value\":(\"\" + (answer.id)),\"value\":(_vm.chooseId)},on:{\"change\":_vm.radioChoose,\"input\":function($event){if($event.target.composing){ return; }_vm.chooseId=$event.target.value}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"option\"},[_c('div',{staticClass:\"input-fix\"},[_c('p',[_vm._v(_vm._s(answer.title))])])])])})):_vm._e(),_vm._v(\" \"),(_vm.question.questionnaireType === 'text')?_c('div',{staticClass:\"option\"},[_c('textarea',{staticClass:\"textarea\",on:{\"change\":function($event){_vm.answer($event)}}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"side\"},[_c('div',{staticClass:\"order\"},[_vm._v(\"Q\"+_vm._s(_vm.qIndex + 1))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7257caec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/question/card/Question1.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7257caec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Question1.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Question1.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Question1.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7257caec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Question1.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7257caec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/card/Question1.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\n<div  class=\"layout\">\n\n  <div class=\"qn-wrap\">\n    <div class=\"qn\">\n      <header class=\"header\">\n        <p class=\"title\" >{{title}}</p>\n      </header>\n      <div class=\"body\">\n        <div class=\"body-wrap\">\n          <ol v-if=\"questions.length !== 0\" class=\"questions\">\n            <li\n              is=\"question\"\n              v-for=\"(qIndex, q) in questions\"\n              track-by=\"$index\"\n              :qIndex=\"q\"\n              :question=\"qIndex\"\n              class=\"question\">\n            </li>\n          </ol>\n        </div>\n      </div>\n      <footer class=\"footer\">\n        <div class=\"pick-date\">\n        </div>\n        <div class=\"operation\">\n          <span class=\"btn\" :class=\"{ disabled: isLoading }\" @click=\"saveData\">提交问卷</span>\n        </div>\n      </footer>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Question from \"./Question1\";\nimport Calendar from \"../common/Calendar\";\nimport Alert from \"../common/Alert\";\nimport Modal from \"../common/Modal\";\n  import {findEvaluationById,commitE,findPublishQuestionById} from \"@/api/question\"\n\nexport default {\n  data() {\n    let editMode;\n    if (!window.sessionStorage.getItem(\"edit-mode\")) {\n      editMode = \"create\";\n      window.sessionStorage.setItem(\"edit-mode\", \"create\");\n    } else {\n      editMode = window.sessionStorage.getItem(\"edit-mode\");\n    }\n    let defaults = {\n      title: \"问卷题目\",\n      questions: [],\n      showAlert: false,\n      publish: false,\n      showModal: false,\n      routerCanDeactivate: false,\n      expires: \"\",\n      qnId: -1,\n      isLoading: false,\n      answers:{\n        questionReplies:[]\n      },\n      // 发布问卷的id\n      publishId: -1\n    };\n    return defaults;\n  },\n  computed: {\n  },\n  methods: {\n    // 保存问卷\n    saveData() {\n      this.answers.status = 'commit';\n      this.answers.studentId = '';\n      commitE({\n        publisId: this.publishId\n      },this.answers).then(result => {\n        // 提交问卷成功\n      })\n    },\n    answer(answer) {\n      console.log(\"a==\",answer)\n      this.answers.questionReplies.filter(q => q.questionId == answer.questionId).length == 1 ?\n      this.answers.questionReplies = this.answers.questionReplies.map(q => q.questionId == answer.questionId ? answer : q)\n      :\n      this.answers.questionReplies.push(answer);\n    },\n    transposition(arr, oldIndex, newIndex) {\n      let value = arr.splice(oldIndex, 1)[0];\n      arr.splice(newIndex, 0, value);\n    },\n    saveBtnHandler() {\n      this.saveData();\n    },\n    getParams: function() {\n      // 取到路由带过来的参数,这个是发布问卷的id\n      this.publishId = this.$route.query.publishId;\n    },\n    findEvaluationById(evaluationId) {\n      findEvaluationById(evaluationId).then(result => {\n        console.log(\"查询问卷信息\", result);\n        if (result.code === 200) {\n          var data = result.data;\n          this.questions = data.content.questions;\n          this.title = data.title;\n          this.author = data.author;\n        }\n      });\n    },\n    findPublishQuestionById(){\n      findPublishQuestionById(this.publishId).then(result=>{\n        const data = result.data;\n        this.findEvaluationById(data.questionnaireid);\n      });\n    }\n  },\n  created() {\n    this.getParams();\n    this.findPublishQuestionById();\n  },\n  components: {\n    Question,\n    Calendar,\n    Alert,\n    Modal\n  },\n  route: {\n    canDeactivate() {\n      if (!this.canDeactivate) {\n        this.showModal = true;\n        return false;\n      }\n      return true;\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\n@import \"../css/base\";\n@import \"../css/helpers/mixins\";\n.disabled {\n  @include btn-disabled;\n}\n.qn-wrap {\n  padding: 3rem 6rem;\n  border-top: 1px solid $line-color;\n  background: $bg-gray;\n  height: 500px;\n  overflow: auto;\n  @at-root {\n    .qn {\n      background-color: #fff;\n      border-radius: 0.4rem;\n      box-shadow: 0.1rem 0.1rem 0.4rem 0 #aaa;\n      display: inline-block;\n      width: 100%;\n      .header {\n        @include placeholder-style {\n          text-align: center;\n        }\n        text-align: center;\n        .title {\n          text-align: center;\n          width: 80%;\n          outline: none;\n          padding: 0 1rem;\n          margin: 2rem auto;\n          border: 1px solid transparent;\n          font-size: $font-size-lg;\n          line-height: 3rem;\n          &:focus {\n            border-color: $light-black;\n            background: $bg-yellow;\n          }\n        }\n      }\n      .body {\n        padding: 0 1rem;\n        .body-wrap {\n          border-top: 1px solid $line-color;\n          border-bottom: 1px solid $line-color;\n          margin-bottom: 2rem;\n          @at-root .questions {\n            padding: 2rem 0;\n          }\n          .tools {\n            text-align: center;\n            border-radius: 0;\n            margin: 1rem auto;\n            border: 1px solid $gray;\n            &:hover {\n              .toolbar {\n                height: 4.4rem;\n              }\n              .add-btn {\n                background: $light-gray;\n              }\n            }\n            @at-root .toolbar {\n              height: 0;\n              overflow: hidden;\n              transition: height 0.3s ease;\n              .btn {\n                @include button(0.5rem, 0.2rem, $light-black);\n                margin: 1rem 0.5rem;\n                display: inline-block;\n                line-height: 1.8rem;\n                .iconfont {\n                  margin-right: 0.3rem;\n                }\n              }\n            }\n            @at-root .add-btn {\n              .iconfont {\n                margin-right: 0.5rem;\n              }\n              background: $bg-gray;\n              cursor: pointer;\n              font-size: $font-size-default;\n              color: $light-black;\n              line-height: 3;\n              width: 100%;\n            }\n          }\n        }\n      }\n      .footer {\n        padding: 0 1.5rem 1.5rem;\n      }\n    }\n  }\n  .footer {\n    display: flex;\n    .pick-date {\n      display: inline-block;\n      .msg {\n        margin-right: 1rem;\n      }\n    }\n    .operation {\n      flex-grow: 1;\n      text-align: right;\n      .btn {\n        border: 1px solid $light-black;\n        padding: 0.2rem 1rem;\n        border-radius: 0.4rem;\n        cursor: pointer;\n        margin-left: 1rem;\n        &:last-child {\n          margin-right: 10rem;\n        }\n        &:hover {\n          background-color: $blue;\n          color: #fff;\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/question/card/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('div',{staticClass:\"qn-wrap\"},[_c('div',{staticClass:\"qn\"},[_c('header',{staticClass:\"header\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"body-wrap\"},[(_vm.questions.length !== 0)?_c('ol',{staticClass:\"questions\"},_vm._l((_vm.questions),function(qIndex,q){return _c(\"question\",{tag:\"li\",staticClass:\"question\",attrs:{\"track-by\":\"$index\",\"qIndex\":q,\"question\":qIndex}})})):_vm._e()])]),_vm._v(\" \"),_c('footer',{staticClass:\"footer\"},[_c('div',{staticClass:\"pick-date\"}),_vm._v(\" \"),_c('div',{staticClass:\"operation\"},[_c('span',{staticClass:\"btn\",class:{ disabled: _vm.isLoading },on:{\"click\":_vm.saveData}},[_vm._v(\"提交问卷\")])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ed29ce60\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/question/card/edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ed29ce60\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ed29ce60\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/card/edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}