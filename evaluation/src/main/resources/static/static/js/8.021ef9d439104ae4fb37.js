webpackJsonp([8],{"7v++":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={a:"CHOSE_SINGLE",b:" CHOSE_MULTI",c:"FILL_BLANK_SINGLE"},a={data:function(){return{questionTypeMapping:s,questions:[{questionnaireType:"FILL_BLANK_SINGLE",mustWriter:!0,defaultsValue:"期望你的回答",maxSize:500,title:"问题标题",prompt:"你对这门课有什么想说的",defaults:!0,edit:!1}],mustWriter:!1,maxSize:500,saveLoding:!1,selectIndex:-1}},created:function(){},methods:{createQuestion:function(e){switch(e){case"b":case"a":this.questions.push({questionnaireType:s.a,mustWriter:!1,defaultsValue:"",title:"",prompt:"",defaults:!0,items:[],edit:!0});break;case"c":this.questions.push({questionnaireType:s.c,mustWriter:!1,defaultsValue:"",maxSize:500,title:"",prompt:"",defaults:!0,edit:!0})}this.save(),this.selectIndex=this.questions.length-1},addRadioItem:function(e){console.log("index=",e),this.questions[e].items.push({defaults:!1,id:3,sort:3,weights:0,title:"",prompt:"",mustWriter:!0})},editQ:function(e){this.save(),this.questions[e].edit=!0,this.selectIndex=e},deleteQ:function(e){this.save(),this.questions.splice(e,1)},save:function(){this.selectIndex>-1&&this.selectIndex<this.questions.length&&(this.questions[this.selectIndex].edit=!1,this.questions[this.selectIndex].mustWriter=this.mustWriter,this.questions[this.selectIndex].maxSize=this.maxSize)}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"layout"},[i("div",{staticClass:"sider"},[i("el-button",{staticStyle:{margin:"20px 0"},on:{click:function(t){e.createQuestion("a")}}},[e._v("单选题")]),e._v(" "),i("el-button",{staticStyle:{margin:"20px 0"},on:{click:function(t){e.createQuestion("b")}}},[e._v("多选题")]),e._v(" "),i("el-button",{staticStyle:{margin:"20px 0"},on:{click:function(t){e.createQuestion("c")}}},[e._v("填空题")])],1),e._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"top"},[e._v("问卷编辑")]),e._v(" "),i("div",{staticClass:"content"},e._l(e.questions,function(t,s){return i("div",{key:s,staticClass:"questions"},[t.edit?i("div",{staticClass:"sign"},[i("div",{staticClass:"title"},[e._v(e._s(s+1)+": 题目：")]),e._v(" "),i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},placeholder:"问题描述"},model:{value:t.title,callback:function(i){e.$set(t,"title",i)},expression:"question.title"}}),e._v(" "),t.questionnaireType===e.questionTypeMapping.a||t.questionnaireType===e.questionTypeMapping.b?i("div",[e._l(t.items,function(t,s){return i("div",{key:s,staticClass:"select-group-edit"},[i("el-input",{style:{width:"auto"},attrs:{placeholder:"选项",clearable:""},model:{value:t.title,callback:function(i){e.$set(t,"title",i)},expression:"selectItem.title"}}),e._v("|\n              "),i("el-input",{style:{width:"auto"},attrs:{placeholder:"分值",type:"number",clearable:""},model:{value:t.weights,callback:function(i){e.$set(t,"weights",i)},expression:"selectItem.weights"}})],1)}),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addRadioItem(s)}}},[e._v("添加选项")])],2):e._e(),e._v(" "),t.questionnaireType===e.questionTypeMapping.c?i("div",[e._v("\n            默认回答\n            "),i("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:10},placeholder:"默认回答"},model:{value:t.defaultsValue,callback:function(i){e.$set(t,"defaultsValue",i)},expression:"question.defaultsValue"}}),e._v("回答提示\n            "),i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},placeholder:"回答提示"},model:{value:t.prompt,callback:function(i){e.$set(t,"prompt",i)},expression:"question.prompt"}})],1):e._e()],1):e._e(),e._v(" "),t.edit?e._e():i("div",{staticClass:"single"},[i("div",{staticClass:"title"},[t.mustWriter?i("span",{staticClass:"must-writer"},[e._v("*")]):e._e(),e._v(e._s(s+1)+": "+e._s(t.title))]),e._v(" "),t.questionnaireType===e.questionTypeMapping.a||t.questionnaireType===e.questionTypeMapping.b?i("div",[i("div",{staticClass:"select-group"},e._l(t.items,function(t,s){return i("el-radio",{key:s,attrs:{disabled:!0,label:t.title}},[e._v(e._s(t.title))])}))]):e._e(),e._v(" "),t.questionnaireType===e.questionTypeMapping.c?i("div",[i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},placeholder:t.prompt,disabled:!0},model:{value:t.defaultsValue,callback:function(i){e.$set(t,"defaultsValue",i)},expression:"question.defaultsValue"}})],1):e._e()]),e._v(" "),t.edit?e._e():i("div",{staticClass:"menu"},[i("i",{staticClass:"el-icon-edit",on:{click:function(t){e.editQ(s)}}}),e._v(" "),i("i",{staticClass:"el-icon-delete",on:{click:function(t){e.deleteQ(s)}}})])])})),e._v(" "),i("div",{staticClass:"bottom"},[e._v("张沛毕设")])]),e._v(" "),i("div",{staticClass:"msg"},[i("el-checkbox",{attrs:{label:"必填",border:""},model:{value:e.mustWriter,callback:function(t){e.mustWriter=t},expression:"mustWriter"}}),e._v(" "),i("div",{style:{textAlign:"center"}},[i("div",[e._v("回答字数限制")]),e._v(" "),i("el-input-number",{attrs:{min:1,label:"字数限制"},model:{value:e.maxSize,callback:function(t){e.maxSize=t},expression:"maxSize"}})],1),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",loading:e.saveLoding},on:{click:function(t){e.save()}}},[e._v("提交问卷")])],1)])},staticRenderFns:[]};var l=i("VU/8")(a,n,!1,function(e){i("vhKS")},null,null);t.default=l.exports},vhKS:function(e,t){}});
//# sourceMappingURL=8.021ef9d439104ae4fb37.js.map