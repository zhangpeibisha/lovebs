{"version":3,"sources":["webpack:///src/views/question/card/replyAnswer.vue","webpack:///./src/views/question/card/replyAnswer.vue?bec0","webpack:///./src/views/question/card/replyAnswer.vue","webpack:///src/views/question/card/answer.vue","webpack:///./src/views/question/card/answer.vue?62ad","webpack:///./src/views/question/card/answer.vue"],"names":["replyAnswer","props","question","type","Object","required","qIndex","Number","data","chooseId","methods","answer","e","console","log","this","$parent","questionnaireEnum","questionnaireType","questionId","id","title","suggest","target","value","radioChoose","checkboxChoose","items","filter","item","choose","forEach","length","substring","card_replyAnswer","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_l","directives","name","rawName","expression","attrs","domProps","checked","Array","isArray","_i","on","change","$event","$$a","$$el","$$c","$$v","$$i","$set","concat","slice","_q","input","composing","_e","staticRenderFns","question_card_replyAnswer","__webpack_require__","normalizeComponent","ssrContext","window","sessionStorage","getItem","setItem","questions","showAlert","publish","showModal","routerCanDeactivate","expires","qnId","isLoading","answers","questionReplies","publishId","computed","saveData","_this","status","studentId","then","result","$message","message","$router","push","path","_answer","q","map","transposition","arr","oldIndex","newIndex","splice","saveBtnHandler","getParams","$route","query","publishEvaluationId","findEvaluationById","evaluationId","_this2","code","content","author","findPublishQuestionById","_this3","questionnaireId","created","components","Question","Calendar","Alert","Modal","route","canDeactivate","card_answer","tag","track-by","class","disabled","click","answer_Component","answer_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.5573612a7c1c738a04e8.js","sourcesContent":["<template lang=\"html\">\r\n  <li>\r\n    <div class=\"content\">\r\n      <!-- 问题题目 -->\r\n      <p>{{ question.title }}</p>\r\n      <!-- 问题题目 end -->\r\n      <!-- 所有答案 -->\r\n      <ol v-if=\"question.questionnaireType !== 'text'\" class=\"answers\">\r\n        <!-- 答案 -->\r\n        <li\r\n          v-for=\"answer in question.items\"\r\n          class=\"answer\">\r\n          <!-- 选择框 -->\r\n          <input v-if=\"question.questionnaireType == 'checkbox'\"\r\n           class=\"select\" :type=\"question.questionnaireType\" :name=\"question.id\" :value=\"`${answer.id}`\" v-model=\"answer.choose\"\r\n           @change=\"checkboxChoose\"\r\n           >\r\n          <input v-if=\"question.questionnaireType == 'radio'\"\r\n           class=\"select\" :type=\"question.questionnaireType\" :name=\"question.id\" :value=\"`${answer.id}`\" v-model=\"chooseId\"\r\n           @change=\"radioChoose\">\r\n          <!-- 选项内容 -->\r\n          <div class=\"option\">\r\n            <div class=\"input-fix\">\r\n              <p>{{ answer.title }}</p>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ol>\r\n      <!-- 所有答案 end -->\r\n      <div v-if=\"question.questionnaireType === 'text'\" class=\"option\">\r\n        <textarea class=\"textarea\" @change=\"answer($event)\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"side\">\r\n      <div class=\"order\">Q{{ qIndex + 1 }}</div>\r\n    </div>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    question: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    qIndex: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chooseId: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    answer(e) {\r\n      console.log(\"eeee\", e);\r\n      console.log(\"this.question\", this.question);\r\n      this.$parent.answer({\r\n        questionnaireEnum: this.question.questionnaireType,\r\n        questionId: this.question.id,\r\n        title: this.question.title,\r\n        suggest: e.target.value\r\n      });\r\n    },\r\n    radioChoose() {\r\n      this.$parent.answer({\r\n        questionnaireEnum: this.question.questionnaireType,\r\n        questionId: this.question.id,\r\n        title: this.question.title,\r\n        chooseId: this.chooseId\r\n      });\r\n    },\r\n    checkboxChoose() {\r\n      let chooseId = \"\";\r\n      this.question.items.filter(item => item.choose).forEach(item => {\r\n        chooseId += (item.id + \",\");\r\n      });\r\n      this.$parent.answer({\r\n        questionnaireEnum: this.question.questionnaireType,\r\n        questionId: this.question.id,\r\n        title: this.question.title,\r\n        chooseId: chooseId.length > 0 ? chooseId.substring(0,chooseId.length - 1) : chooseId\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../css/base\";\r\n@import \"../css/helpers/mixins\";\r\n.question {\r\n  @include clearfix;\r\n  padding: 1rem;\r\n  border-radius: 0.4rem;\r\n  list-style: none;\r\n  .side {\r\n    float: left;\r\n    margin-left: -100%;\r\n    width: 3rem;\r\n    font-size: $font-size-default;\r\n    cursor: pointer;\r\n    line-height: 1.5;\r\n    text-align: center;\r\n    .order {\r\n      line-height: 2.4rem;\r\n    }\r\n    .opertions {\r\n      margin-top: 0.3rem;\r\n      list-style: none;\r\n      padding: 0;\r\n      visibility: hidden;\r\n      line-height: 2;\r\n      color: $gray;\r\n    }\r\n  }\r\n  .content {\r\n    float: left;\r\n    width: 100%;\r\n    padding-left: 4rem;\r\n    .textarea,\r\n    .input {\r\n      border: 1px solid transparent;\r\n      background-color: transparent;\r\n      margin: 0;\r\n      outline: none;\r\n    }\r\n    .title {\r\n      font-size: $font-size-default;\r\n      line-height: 1.5;\r\n      width: 100%;\r\n      max-width: 100%;\r\n      border-radius: 0.3rem;\r\n      line-height: 2.4rem;\r\n    }\r\n    .answers {\r\n      list-style: none;\r\n      padding: 0;\r\n      line-height: 2;\r\n      font-size: $font-size-sm;\r\n      color: $light-black;\r\n      margin-top: 0.4rem;\r\n      .answer {\r\n        display: flex;\r\n        align-items: flex-start;\r\n        margin-bottom: 0.4rem;\r\n        @include clearfix;\r\n        .select {\r\n          display: inline-block;\r\n          height: 2.4rem;\r\n          width: 2rem;\r\n          float: left;\r\n          position: relative;\r\n        }\r\n        .option {\r\n          font-size: $font-size-default;\r\n          float: left;\r\n          width: 100%;\r\n          margin-left: -2rem;\r\n          padding-left: 2rem;\r\n          @include clearfix;\r\n          .input-fix {\r\n            float: left;\r\n            width: 100%;\r\n            padding-right: 10rem;\r\n            display: flex;\r\n            .input {\r\n              line-height: 2.4rem;\r\n              border: 1px solid transparent;\r\n              background-color: transparent;\r\n              margin: 0;\r\n              outline: none;\r\n              min-width: 40%;\r\n              max-width: 40%;\r\n              padding: 0 0.2rem;\r\n              border-radius: 0.3rem;\r\n              color: #777;\r\n            }\r\n          }\r\n          .option-panel {\r\n            display: none;\r\n            float: left;\r\n            width: 10rem;\r\n            margin-left: -12rem;\r\n            font-size: $font-size-default;\r\n            .iconfont {\r\n              list-style: none;\r\n              float: left;\r\n              width: 2rem;\r\n              line-height: 2.4rem;\r\n              color: $blue;\r\n              padding: 0;\r\n              text-align: center;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .add-option {\r\n      margin-top: 1rem;\r\n      font-size: $font-size-default;\r\n      cursor: pointer;\r\n      color: $gray;\r\n      display: inline-block;\r\n      line-height: 2;\r\n      text-align: center;\r\n      border-radius: 0.4rem;\r\n      visibility: hidden;\r\n      .iconfont {\r\n        margin-right: 0.6rem;\r\n      }\r\n    }\r\n    .option {\r\n      .textarea {\r\n        width: 100%;\r\n        height: 10rem;\r\n        margin-top: 0.8rem;\r\n        border: 1px solid $light-black;\r\n      }\r\n      [for=\"isRequired\"] {\r\n        margin-top: 1rem;\r\n        display: block;\r\n        .required {\r\n          margin-right: 0.4rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/question/card/replyAnswer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(_vm._s(_vm.question.title))]),_vm._v(\" \"),(_vm.question.questionnaireType !== 'text')?_c('ol',{staticClass:\"answers\"},_vm._l((_vm.question.items),function(answer){return _c('li',{staticClass:\"answer\"},[((_vm.question.questionnaireType)==='checkbox'&&(_vm.question.questionnaireType == 'checkbox'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(answer.choose),expression:\"answer.choose\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"checkbox\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":Array.isArray(answer.choose)?_vm._i(answer.choose,(\"\" + (answer.id)))>-1:(answer.choose)},on:{\"change\":[function($event){var $$a=answer.choose,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"\" + (answer.id),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(answer, \"choose\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(answer, \"choose\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(answer, \"choose\", $$c)}},_vm.checkboxChoose]}}):((_vm.question.questionnaireType)==='radio'&&(_vm.question.questionnaireType == 'checkbox'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(answer.choose),expression:\"answer.choose\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"radio\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":_vm._q(answer.choose,(\"\" + (answer.id)))},on:{\"change\":[function($event){_vm.$set(answer, \"choose\", (\"\" + (answer.id)))},_vm.checkboxChoose]}}):(_vm.question.questionnaireType == 'checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(answer.choose),expression:\"answer.choose\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":_vm.question.questionnaireType},domProps:{\"value\":(\"\" + (answer.id)),\"value\":(answer.choose)},on:{\"change\":_vm.checkboxChoose,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(answer, \"choose\", $event.target.value)}}}):_vm._e(),_vm._v(\" \"),((_vm.question.questionnaireType)==='checkbox'&&(_vm.question.questionnaireType == 'radio'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chooseId),expression:\"chooseId\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"checkbox\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":Array.isArray(_vm.chooseId)?_vm._i(_vm.chooseId,(\"\" + (answer.id)))>-1:(_vm.chooseId)},on:{\"change\":[function($event){var $$a=_vm.chooseId,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"\" + (answer.id),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.chooseId=$$a.concat([$$v]))}else{$$i>-1&&(_vm.chooseId=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.chooseId=$$c}},_vm.radioChoose]}}):((_vm.question.questionnaireType)==='radio'&&(_vm.question.questionnaireType == 'radio'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chooseId),expression:\"chooseId\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":\"radio\"},domProps:{\"value\":(\"\" + (answer.id)),\"checked\":_vm._q(_vm.chooseId,(\"\" + (answer.id)))},on:{\"change\":[function($event){_vm.chooseId=\"\" + (answer.id)},_vm.radioChoose]}}):(_vm.question.questionnaireType == 'radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chooseId),expression:\"chooseId\"}],staticClass:\"select\",attrs:{\"name\":_vm.question.id,\"type\":_vm.question.questionnaireType},domProps:{\"value\":(\"\" + (answer.id)),\"value\":(_vm.chooseId)},on:{\"change\":_vm.radioChoose,\"input\":function($event){if($event.target.composing){ return; }_vm.chooseId=$event.target.value}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"option\"},[_c('div',{staticClass:\"input-fix\"},[_c('p',[_vm._v(_vm._s(answer.title))])])])])})):_vm._e(),_vm._v(\" \"),(_vm.question.questionnaireType === 'text')?_c('div',{staticClass:\"option\"},[_c('textarea',{staticClass:\"textarea\",on:{\"change\":function($event){_vm.answer($event)}}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"side\"},[_c('div',{staticClass:\"order\"},[_vm._v(\"Q\"+_vm._s(_vm.qIndex + 1))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34aaf805\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/question/card/replyAnswer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34aaf805\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./replyAnswer.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./replyAnswer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./replyAnswer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34aaf805\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./replyAnswer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-34aaf805\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/card/replyAnswer.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\r\n<div  class=\"layout\">\r\n\r\n  <div class=\"qn-wrap\">\r\n    <div class=\"qn\">\r\n      <header class=\"header\">\r\n        <p class=\"title\" >{{title}}</p>\r\n      </header>\r\n      <div class=\"body\">\r\n        <div class=\"body-wrap\">\r\n          <ol v-if=\"questions.length !== 0\" class=\"questions\">\r\n            <li\r\n              is=\"question\"\r\n              v-for=\"(qIndex, q) in questions\"\r\n              track-by=\"$index\"\r\n              :qIndex=\"q\"\r\n              :question=\"qIndex\"\r\n              class=\"question\">\r\n            </li>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n      <footer class=\"footer\">\r\n        <div class=\"pick-date\">\r\n        </div>\r\n        <div class=\"operation\">\r\n          <span class=\"btn\" :class=\"{ disabled: isLoading }\" @click=\"saveData\">提交问卷</span>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Question from \"./replyAnswer\";\r\nimport Calendar from \"../common/Calendar\";\r\nimport Alert from \"../common/Alert\";\r\nimport Modal from \"../common/Modal\";\r\n  import {findEvaluationById,commitE,findPublishQuestionById} from \"@/api/question\"\r\n\r\nexport default {\r\n  data() {\r\n    let editMode;\r\n    if (!window.sessionStorage.getItem(\"edit-mode\")) {\r\n      editMode = \"create\";\r\n      window.sessionStorage.setItem(\"edit-mode\", \"create\");\r\n    } else {\r\n      editMode = window.sessionStorage.getItem(\"edit-mode\");\r\n    }\r\n    let defaults = {\r\n      title: \"问卷题目\",\r\n      questions: [],\r\n      showAlert: false,\r\n      publish: false,\r\n      showModal: false,\r\n      routerCanDeactivate: false,\r\n      expires: \"\",\r\n      qnId: -1,\r\n      isLoading: false,\r\n      answers:{\r\n        questionReplies:[]\r\n      },\r\n      // 发布问卷的id\r\n      publishId: -1\r\n    };\r\n    return defaults;\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    // 保存问卷\r\n    saveData() {\r\n      this.answers.status = 'commit';\r\n      this.answers.studentId = '';\r\n      commitE({\r\n        publishId: this.publishId\r\n      },this.answers).then(result => {\r\n        console.log(\"提交返回结果\",result);\r\n        this.$message({\r\n          message: '恭喜你，提交问卷成功',\r\n          type: 'success'\r\n        });\r\n        this.$router.push({\r\n          path: \"/home\",\r\n        })\r\n      })\r\n    },\r\n    answer(answer) {\r\n      console.log(\"a==\",answer)\r\n      this.answers.questionReplies.filter(q => q.questionId == answer.questionId).length == 1 ?\r\n      this.answers.questionReplies = this.answers.questionReplies.map(q => q.questionId == answer.questionId ? answer : q)\r\n      :\r\n      this.answers.questionReplies.push(answer);\r\n    },\r\n    transposition(arr, oldIndex, newIndex) {\r\n      let value = arr.splice(oldIndex, 1)[0];\r\n      arr.splice(newIndex, 0, value);\r\n    },\r\n    saveBtnHandler() {\r\n      this.saveData();\r\n    },\r\n    getParams: function() {\r\n      // 取到路由带过来的参数,这个是发布问卷的id\r\n      this.publishId = this.$route.query.publishEvaluationId;\r\n      console.log(\"获取到的发布id为==========\", this.publishId)\r\n    },\r\n    findEvaluationById(evaluationId) {\r\n      findEvaluationById(evaluationId).then(result => {\r\n        console.log(\"查询问卷信息\", result);\r\n        if (result.code === 200) {\r\n          var data = result.data;\r\n          this.questions = data.content.questions;\r\n          this.title = data.title;\r\n          this.author = data.author;\r\n        }\r\n      });\r\n    },\r\n    findPublishQuestionById(){\r\n      console.log(\"获取到的发布id为\",this.publishId);\r\n      findPublishQuestionById(this.publishId).then(result=>{\r\n        const data = result.data;\r\n        console.log(\"获取到的data为\",result);\r\n        this.findEvaluationById(data.questionnaireId);\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getParams();\r\n    this.findPublishQuestionById();\r\n  },\r\n  components: {\r\n    Question,\r\n    Calendar,\r\n    Alert,\r\n    Modal\r\n  },\r\n  route: {\r\n    canDeactivate() {\r\n      if (!this.canDeactivate) {\r\n        this.showModal = true;\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"../css/base\";\r\n@import \"../css/helpers/mixins\";\r\n.disabled {\r\n  @include btn-disabled;\r\n}\r\n.qn-wrap {\r\n  padding: 3rem 6rem;\r\n  border-top: 1px solid $line-color;\r\n  background: $bg-gray;\r\n  height: 500px;\r\n  overflow: auto;\r\n  @at-root {\r\n    .qn {\r\n      background-color: #fff;\r\n      border-radius: 0.4rem;\r\n      box-shadow: 0.1rem 0.1rem 0.4rem 0 #aaa;\r\n      display: inline-block;\r\n      width: 100%;\r\n      .header {\r\n        @include placeholder-style {\r\n          text-align: center;\r\n        }\r\n        text-align: center;\r\n        .title {\r\n          text-align: center;\r\n          width: 80%;\r\n          outline: none;\r\n          padding: 0 1rem;\r\n          margin: 2rem auto;\r\n          border: 1px solid transparent;\r\n          font-size: $font-size-lg;\r\n          line-height: 3rem;\r\n          &:focus {\r\n            border-color: $light-black;\r\n            background: $bg-yellow;\r\n          }\r\n        }\r\n      }\r\n      .body {\r\n        padding: 0 1rem;\r\n        .body-wrap {\r\n          border-top: 1px solid $line-color;\r\n          border-bottom: 1px solid $line-color;\r\n          margin-bottom: 2rem;\r\n          @at-root .questions {\r\n            padding: 2rem 0;\r\n          }\r\n          .tools {\r\n            text-align: center;\r\n            border-radius: 0;\r\n            margin: 1rem auto;\r\n            border: 1px solid $gray;\r\n            &:hover {\r\n              .toolbar {\r\n                height: 4.4rem;\r\n              }\r\n              .add-btn {\r\n                background: $light-gray;\r\n              }\r\n            }\r\n            @at-root .toolbar {\r\n              height: 0;\r\n              overflow: hidden;\r\n              transition: height 0.3s ease;\r\n              .btn {\r\n                @include button(0.5rem, 0.2rem, $light-black);\r\n                margin: 1rem 0.5rem;\r\n                display: inline-block;\r\n                line-height: 1.8rem;\r\n                .iconfont {\r\n                  margin-right: 0.3rem;\r\n                }\r\n              }\r\n            }\r\n            @at-root .add-btn {\r\n              .iconfont {\r\n                margin-right: 0.5rem;\r\n              }\r\n              background: $bg-gray;\r\n              cursor: pointer;\r\n              font-size: $font-size-default;\r\n              color: $light-black;\r\n              line-height: 3;\r\n              width: 100%;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .footer {\r\n        padding: 0 1.5rem 1.5rem;\r\n      }\r\n    }\r\n  }\r\n  .footer {\r\n    display: flex;\r\n    .pick-date {\r\n      display: inline-block;\r\n      .msg {\r\n        margin-right: 1rem;\r\n      }\r\n    }\r\n    .operation {\r\n      flex-grow: 1;\r\n      text-align: right;\r\n      .btn {\r\n        border: 1px solid $light-black;\r\n        padding: 0.2rem 1rem;\r\n        border-radius: 0.4rem;\r\n        cursor: pointer;\r\n        margin-left: 1rem;\r\n        &:last-child {\r\n          margin-right: 10rem;\r\n        }\r\n        &:hover {\r\n          background-color: $blue;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/question/card/answer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('div',{staticClass:\"qn-wrap\"},[_c('div',{staticClass:\"qn\"},[_c('header',{staticClass:\"header\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"body-wrap\"},[(_vm.questions.length !== 0)?_c('ol',{staticClass:\"questions\"},_vm._l((_vm.questions),function(qIndex,q){return _c(\"question\",{tag:\"li\",staticClass:\"question\",attrs:{\"track-by\":\"$index\",\"qIndex\":q,\"question\":qIndex}})})):_vm._e()])]),_vm._v(\" \"),_c('footer',{staticClass:\"footer\"},[_c('div',{staticClass:\"pick-date\"}),_vm._v(\" \"),_c('div',{staticClass:\"operation\"},[_c('span',{staticClass:\"btn\",class:{ disabled: _vm.isLoading },on:{\"click\":_vm.saveData}},[_vm._v(\"提交问卷\")])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-651ff8ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/question/card/answer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-651ff8ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./answer.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./answer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./answer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-651ff8ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./answer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/card/answer.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}