webpackJsonp([5],{"80Uw":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={props:{question:{type:Object,required:!0},qIndex:{type:Number,required:!0},qAnwser:{type:Object,required:!1,default:{}}},methods:{changeQuestionTitle:function(t,e){this.$dispatch("change-question-title",t,e.target.textContent)},questionPositionFront:function(t){this.$dispatch("question-pos-change",t,t-1)},questionPositionBack:function(t){this.$dispatch("question-pos-change",t,t+1)},deleteQuestion:function(t){this.$dispatch("delete-question",t)},changeOptionValue:function(t,e,i){this.$dispatch("change-option-value",t,e,i.target.textContent)},addOption:function(t){this.$dispatch("add-option",t)},deleteOption:function(t,e){this.$dispatch("delete-option",t,e)},copyQuestion:function(t){this.$dispatch("copy-question",t)},changeTextRequired:function(t,e){this.$dispatch("change-text-required",t,e.target.checked)},optionPositionFront:function(t,e){this.$dispatch("option-pos-change",t,e,e-1)},optionPositionBack:function(t,e){this.$dispatch("option-pos-change",t,e,e+1)}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"content"},[i("p",[t._v(t._s(t.question.title))]),t._v(" "),"text"!==t.question.questionnaireType?i("ol",{staticClass:"answers"},t._l(t.question.items,function(e){return i("li",{staticClass:"answer"},[i("input",{staticClass:"select",attrs:{type:t.question.questionnaireType,name:t.question.id,disabled:""},domProps:{value:e.id,checked:t.qAnwser.chooseId&&t.qAnwser.chooseId.spilt(",").indexOf(e.id)>=0}}),t._v(" "),i("div",{staticClass:"option"},[i("div",{staticClass:"input-fix"},[i("p",[t._v(t._s(e.title))]),t._v(" "),t.qAnwser.questionId?t._e():i("p",[t._v("分值:"),i("span",[t._v(t._s(e.weights))])])])])])})):t._e(),t._v(" "),"text"===t.question.questionnaireType?i("div",{staticClass:"option"},[i("textarea",{staticClass:"textarea",attrs:{disabled:""},domProps:{value:t.qAnwser.suggest}})]):t._e()]),t._v(" "),i("div",{staticClass:"side"},[i("div",{staticClass:"order"},[t._v("Q"+t._s(t.qIndex+1))])])])},staticRenderFns:[]};var n=i("VU/8")(s,o,!1,function(t){i("P4RD")},"data-v-9f9cf26e",null).exports,a=i("NoTa"),l=i("UDO9"),r=i("l2la"),u=i("Ozlq"),c={data:function(){return{title:"",questions:[],evaluationId:-1,author:{id:-1,jobNumber:"",name:"",imageUrl:"",correspondence:{phone:"",email:""}},isLoading:!1,dialogViewAuthorInfo:!1,formLabelWidth:"120px",qAnswers:[]}},created:function(){this.getParams(),this.findEvaluationById()},methods:{transposition:function(t,e,i){var s=t.splice(e,1)[0];t.splice(i,0,s)},saveBtnHandler:function(){this.saveData()},editEvaluation:function(){this.$router.push({path:"/questionnaire/edit",query:{evaluationId:this.evaluationId}})},getAnswer:function(t){return(this.qAnswers.filter(function(e){return e.id==t.id})||[{}])[0]},findEvaluationById:function(){var t=this;Object(u.e)(this.evaluationId).then(function(e){if(console.log("查询问卷信息",e),200===e.code){var i=e.data;t.questions=i.content.questions,t.title=i.title,t.author=i.author,console.log("获取到作者的信息为",t.author)}})},getParams:function(){this.evaluationId=this.$route.query.evaluationId}},components:{Question:n,Calendar:a.a,Alert:l.a,Modal:r.a}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout"},[i("el-dialog",{attrs:{title:"作者信息",visible:t.dialogViewAuthorInfo},on:{"update:visible":function(e){t.dialogViewAuthorInfo=e}}},[i("el-form",{attrs:{model:t.author}},[i("el-form-item",{attrs:{label:"名字","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.author.name,callback:function(e){t.$set(t.author,"name",e)},expression:"author.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工号","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.author.jobNumber,callback:function(e){t.$set(t.author,"jobNumber",e)},expression:"author.jobNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"手机","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.author.correspondence.phone,callback:function(e){t.$set(t.author.correspondence,"phone",e)},expression:"author.correspondence.phone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"邮件","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.author.correspondence.email,callback:function(e){t.$set(t.author.correspondence,"email",e)},expression:"author.correspondence.email"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogViewAuthorInfo=!1}}},[t._v("确 定")])],1)],1),t._v(" "),i("div",{staticClass:"qn-wrap"},[i("div",{staticClass:"qn"},[i("header",{staticClass:"header"},[i("p",{staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"body"},[i("div",{staticClass:"body-wrap"},[0!==t.questions.length?i("ol",{staticClass:"questions"},t._l(t.questions,function(e,s){return i("question",{tag:"li",staticClass:"question",attrs:{"track-by":"$index",qIndex:s,question:e,qAnswer:t.getAnswer(s)}})})):t._e()])]),t._v(" "),i("footer",{staticClass:"footer"},[i("div",{staticClass:"pick-date"}),t._v(" "),i("div",{staticClass:"operation"},[i("span",{staticClass:"btn",class:{disabled:t.isLoading},on:{click:t.editEvaluation}},[t._v("编辑问卷")]),t._v(" "),i("span",{staticClass:"btn",class:{disabled:t.isLoading},on:{click:function(e){t.dialogViewAuthorInfo=!0}}},[t._v("查看作者信息")])])])])])],1)},staticRenderFns:[]};var h=i("VU/8")(c,d,!1,function(t){i("qqRC")},null,null);e.default=h.exports},P4RD:function(t,e){},qqRC:function(t,e){}});
//# sourceMappingURL=5.eae92854cd73188cab25.js.map